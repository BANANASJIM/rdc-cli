[workspace]
name = "rdc-cli"
channels = ["conda-forge"]
platforms = ["linux-64", "osx-arm64", "osx-64"]

[dependencies]
python = "3.14.*"
uv = ">=0.5"

[tasks]
sync = "uv sync --extra dev && git config core.hooksPath .githooks"
lint = "uv run ruff check src tests && uv run ruff format --check src tests"
typecheck = "uv run mypy src"
test = "uv run pytest tests/unit -v --cov=rdc --cov-report=term-missing --cov-fail-under=80"
test-gpu = "uv run pytest tests -v -m gpu --no-header"
test-all = "uv run pytest tests -v --cov=rdc --cov-report=term-missing"
check = "pixi run lint && pixi run typecheck && pixi run test"
verify = "bash scripts/verify-package.sh"
dev-install = "pip install --break-system-packages --quiet -e ."
e2e = "pixi run dev-install && bash scripts/e2e-test.sh"
