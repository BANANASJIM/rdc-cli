@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap');

:root {
  --accent: 0 229 255;
  --accent-dim: 0 184 212;
  --accent-hex: #00e5ff;
  --gradient-secondary: #7c4dff;

  /* Surface colors (RGB components for Tailwind alpha support) */
  --bg-base: 5 10 18;
  --bg-surface: 10 21 37;
  --bg-surface-hover: 14 26 48;
  --bg-deeper: 3 7 16;
  --border: 26 37 64;

  /* Text colors */
  --text-heading: #f3f4f6;
  --text-body: #d1d5db;
  --text-muted: #9ca3af;
  --text-faint: #6b7280;

  color-scheme: dark;
}

html.light {
  /* Soft blue-gray — not glaring white */
  --bg-base: 230 234 240;
  --bg-surface: 240 243 247;
  --bg-surface-hover: 235 238 244;
  --bg-deeper: 225 229 236;
  --border: 200 207 218;

  /* Darker accent for readability on light bg */
  --accent: 0 150 180;
  --accent-dim: 0 120 150;
  --accent-hex: #0096b4;
  --gradient-secondary: #6d28d9;

  --text-heading: #0f172a;
  --text-body: #1e293b;
  --text-muted: #475569;
  --text-faint: #64748b;

  color-scheme: light;
}

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    @apply font-sans antialiased;
    background-color: rgb(var(--bg-base)) !important;
    color: var(--text-body);
  }

  ::selection {
    @apply bg-gpu-accent/20;
    color: var(--text-heading);
  }

  ::-webkit-scrollbar {
    @apply w-1.5;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gpu-border/50 rounded-full hover:bg-gpu-border;
  }
}

@layer components {
  /* Terminal styling — always dark */
  .terminal-window {
    @apply rounded-xl overflow-hidden;
    background: #060d18;
    border: 1px solid #1e3050;
  }

  .terminal-header {
    @apply flex items-center gap-2 px-4 py-3;
    background: #0a1525;
    border-bottom: 1px solid #1e3050;
  }

  .terminal-dot {
    @apply w-2.5 h-2.5 rounded-full;
  }

  .terminal-body {
    @apply p-6 font-mono text-sm leading-relaxed;
    background: #060d18;
    color: #d1d5db;
  }

  /* Glow effects */
  .glow-accent {
    box-shadow: 0 0 25px rgb(var(--accent) / 0.1), 0 0 50px rgb(var(--accent) / 0.04);
    border-color: rgb(var(--accent) / 0.15);
  }

  /* Gradient text */
  .gradient-text {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(90deg, var(--accent-hex) 0%, var(--gradient-secondary) 40%, var(--accent-hex) 80%, rgb(var(--accent) / 0.8) 100%);
    background-size: 300% 100%;
    animation: gradient-shift 6s ease infinite;
  }

  /* Card */
  .glass-card {
    @apply rounded-xl;
    background: rgb(var(--bg-surface));
    border: 1px solid rgb(var(--border));
    transition: background 0.4s cubic-bezier(0.4, 0, 0.2, 1),
                border-color 0.4s cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 0.4s cubic-bezier(0.4, 0, 0.2, 1),
                transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform;
  }

  .glass-card:hover {
    background: rgb(var(--bg-surface-hover));
    border-color: rgb(var(--accent) / 0.25);
    box-shadow: 0 0 25px rgb(var(--accent) / 0.06), 0 8px 32px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
  }

  /* Section divider glow line */
  .section-glow {
    @apply relative;
  }

  .section-glow::before {
    content: '';
    @apply absolute top-0 left-1/2 -translate-x-1/2 w-64 h-px;
    background: linear-gradient(90deg, transparent, rgb(var(--accent) / 0.3), transparent);
  }

  /* Text utility classes using CSS vars */
  .text-heading { color: var(--text-heading); }
  .text-body { color: var(--text-body); }
  .text-muted { color: var(--text-muted); }
  .text-faint { color: var(--text-faint); }

  /* Light mode overrides for elements that use Tailwind gray classes */
  html.light .text-gray-100 { color: #0f172a; }
  html.light .text-gray-200 { color: #1e293b; }
  html.light .text-gray-300 { color: #334155; }
  html.light .text-gray-400 { color: #475569; }
  html.light .text-gray-500 { color: #64748b; }

  /* Terminal always uses dark-mode colors — immune to light mode overrides */
  html.light .terminal-window { --accent: 0 229 255; --accent-hex: #00e5ff; }
  html.light .terminal-window .text-gray-200 { color: #e5e7eb !important; }
  html.light .terminal-window .text-gray-300 { color: #d1d5db !important; }
  html.light .terminal-window .text-gray-400 { color: #9ca3af !important; }
  html.light .terminal-window .text-gray-500 { color: #6b7280 !important; }
  html.light .terminal-window .text-gpu-green { color: #00e676 !important; }
  html.light .terminal-window .text-gpu-accent { color: #00e5ff !important; }
  html.light .terminal-body { color: #d1d5db !important; }

  /* Light mode: navbar & footer */
  html.light nav.fixed {
    background: rgb(var(--bg-base) / 0.9);
  }

  /* Light mode: prose overrides */
  html.light .prose-invert {
    --tw-prose-body: #1e293b;
    --tw-prose-headings: #0f172a;
    --tw-prose-links: rgb(var(--accent));
    --tw-prose-bold: #0f172a;
    --tw-prose-code: #0f172a;
  }

  /* Light mode: docs sidebar */
  html.light aside {
    background: rgb(var(--bg-deeper) / 0.5);
  }

  /* Reduced motion: show all animated elements */
  @media (prefers-reduced-motion: reduce) {
    .feature-card,
    .command-category,
    .install-block,
    .demo-container,
    .demo-line {
      opacity: 1 !important;
      transform: none !important;
    }
  }
}
