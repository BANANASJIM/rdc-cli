---
const base = import.meta.env.BASE_URL;
---

<section class="relative min-h-screen flex items-center justify-center pt-16 overflow-hidden bg-gpu-dark">
  <!-- Subtle grid background -->
  <div class="absolute inset-0 bg-[size:72px_72px] [mask-image:radial-gradient(ellipse_50%_50%_at_50%_50%,black_30%,transparent_100%)]" style="background-image: linear-gradient(rgb(var(--accent) / 0.03) 1px, transparent 1px), linear-gradient(90deg, rgb(var(--accent) / 0.03) 1px, transparent 1px);"></div>

  <!-- Very subtle radial glow â€” low opacity, no animation -->
  <div class="absolute top-1/3 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[700px] h-[500px] rounded-full pointer-events-none" style="background: radial-gradient(ellipse, rgb(var(--accent) / 0.06) 0%, transparent 70%);"></div>
  <div class="absolute top-[40%] left-[35%] w-[300px] h-[300px] rounded-full pointer-events-none" style="background: radial-gradient(circle, rgb(var(--accent-dim) / 0.04) 0%, transparent 70%);"></div>

  <div class="relative z-10 max-w-5xl mx-auto px-6 text-center">
    <!-- Large ASCII logo with text-shadow glow -->
    <div class="mb-8 relative inline-block">
      <pre class="font-mono text-gpu-accent text-lg md:text-2xl lg:text-3xl leading-tight select-none tracking-tight" aria-hidden="true" style="text-shadow: 0 0 20px rgb(var(--accent) / 0.3), 0 0 40px rgb(var(--accent) / 0.08);">
 _ __ __| | ___
| '__/ _` |/ __|
| | | (_| | (__
|_|  \__,_|\___|</pre>
    </div>

    <!-- Headline -->
    <h1 class="text-5xl md:text-7xl lg:text-8xl font-extrabold mb-6 tracking-tight">
      <span class="gradient-text">Unix CLI</span>
      <br />
      <span class="text-gray-100">for RenderDoc</span>
    </h1>

    <!-- Subtitle -->
    <p class="text-lg md:text-xl text-gray-400 max-w-2xl mx-auto mb-12 leading-relaxed">
      33 commands. TSV pipes. JSON mode.<br />
      Designed for <span class="text-gpu-accent font-medium">CI pipelines</span> and <span class="text-gpu-purple font-medium">AI agents</span>.
    </p>

    <!-- Typed.js terminal -->
    <div class="max-w-2xl mx-auto mb-14">
      <div class="terminal-window glow-accent">
        <div class="terminal-header">
          <span class="terminal-dot bg-[#ff5f57]"></span>
          <span class="terminal-dot bg-[#febc2e]"></span>
          <span class="terminal-dot bg-[#28c840]"></span>
          <span class="ml-auto text-[10px] text-gray-500 font-mono tracking-wider uppercase">rdc-cli</span>
        </div>
        <div class="terminal-body text-left min-h-[3rem]">
          <div class="flex items-start">
            <span class="text-gpu-green mr-2 select-none font-bold">$</span>
            <span id="typed-output" class="text-gray-200"></span>
          </div>
        </div>
      </div>
    </div>

    <!-- CTA buttons -->
    <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
      <a
        href={`${base}docs/install/`}
        class="px-8 py-3.5 bg-gpu-accent text-gpu-dark font-bold rounded-lg transition-all duration-300 hover:shadow-[0_0_30px_rgb(var(--accent)/0.3)] hover:scale-[1.02]"
      >
        Get Started
      </a>
      <a
        href={`${base}docs/`}
        class="px-8 py-3.5 border border-gpu-border text-gray-300 rounded-lg transition-all duration-300 hover:text-gpu-accent hover:border-gpu-accent/30"
      >
        Documentation
      </a>
      <a
        href="https://github.com/BANANASJIM/rdc-cli"
        target="_blank"
        rel="noopener noreferrer"
        class="px-8 py-3.5 border border-gpu-border text-gray-300 rounded-lg transition-all duration-300 hover:text-gpu-accent hover:border-gpu-accent/30"
      >
        GitHub
      </a>
    </div>
  </div>

  <!-- Bottom fade -->
  <div class="absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-gpu-dark to-transparent"></div>
</section>

<script>
  import Typed from 'typed.js';

  new Typed('#typed-output', {
    strings: [
      'rdc open capture.rdc',
      'rdc draws --json | jq \'.[] | select(.flags == "Drawcall")\'',
      'rdc pipeline 142 --section shader',
      'rdc shader 142 ps --target "SPIR-V (RenderDoc)"',
      'rdc resources --type texture --sort size',
      'rdc texture 5 -o albedo.png',
      'rdc search "main" --scope shaders',
      'rdc ls /draws/142/pipeline/',
      'rdc counters --list | head',
      'rdc close',
    ],
    typeSpeed: 35,
    backSpeed: 15,
    backDelay: 2500,
    startDelay: 500,
    loop: true,
    showCursor: true,
    cursorChar: '\u2588',
  });
</script>
